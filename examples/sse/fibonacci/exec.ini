
with concrete stack pointer

@[rsp, 8] := 2
@[rsp + 16, 8] := rsp + 24
@[rsp + 24, 9] := "50000000"z

stdout_pos<64> := 0

replace opcode 0f 05 by
  case rax is
  1:
    assert rdi = 1
    for i<64> in 0 to rdx do
      stdout[stdout_pos + i] := @[rsi + i]
    end
    stdout_pos := stdout_pos + i
  60:
    print c string stdout
    halt
  _:
    assert false
  end
end

explore all
